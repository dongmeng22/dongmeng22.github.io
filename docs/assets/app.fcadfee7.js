import{K as S,s as Le,h as ne,w as He,i as Ae,d as _e,a0 as Se,u as Oe,l as xe,a1 as Te,a2 as Ie,a3 as Pe,a4 as je,a5 as Ne,a6 as ke,a7 as Me,a8 as Re,a9 as Be,aa as De,ab as $e,ac as Fe,ad as qe,H as Ze}from"./chunks/framework.c7127555.js";import{t as We}from"./chunks/theme.6590b90d.js";import{g as Ye}from"./chunks/commonjsHelpers.725317a4.js";var K={},Ke={get exports(){return K},set exports(n){K=n}},oe,A,y,ae,W,Q,L,j=!1,N=[];typeof document<"u"&&(ae=function(n){return j||document.readyState==="interactive"||document.readyState==="complete"?n.call(document):N.push(function(){return n.call(this)}),this},Q=function(){for(var n=0,e=N.length;n<e;n++)N[n].apply(document);N=[]},L=function(){j||(j=!0,Q.call(window),document.removeEventListener?document.removeEventListener("DOMContentLoaded",L,!1):document.attachEvent&&(document.detachEvent("onreadystatechange",L),window==window.top&&(clearInterval(W),W=null)))},document.addEventListener?document.addEventListener("DOMContentLoaded",L,!1):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){/loaded|complete/.test(document.readyState)&&L()}),window==window.top&&(W=setInterval(function(){try{j||document.documentElement.doScroll("left")}catch{return}L()},5))));oe={fetch:function(n,e){var o="BusuanziCallback_"+Math.floor(1099511627776*Math.random());n=n.replace("=BusuanziCallback","="+o),y=document.createElement("SCRIPT"),y.type="text/javascript",y.defer=!0,y.src=n,document.getElementsByTagName("HEAD")[0].appendChild(y),window[o]=this.evalCall(e)},evalCall:function(n){return function(e){ae(function(){try{n(e),y&&y.parentElement&&y.parentElement.removeChild&&y.parentElement.removeChild(y)}catch(o){console.log(o),A.hides()}})}}};const re=()=>{A&&A.hides(),oe.fetch("//busuanzi.ibruce.info/busuanzi?jsonpCallback=BusuanziCallback",function(n){A.texts(n),A.shows()})};A={bszs:["site_pv","page_pv","site_uv"],texts:function(n){this.bszs.map(function(e){var o=document.getElementById("busuanzi_value_"+e);o&&(o.innerHTML=n[e])})},hides:function(){this.bszs.map(function(n){var e=document.getElementById("busuanzi_container_"+n);e&&(e.style.display="none")})},shows:function(){this.bszs.map(function(n){var e=document.getElementById("busuanzi_container_"+n);e&&(e.style.display="inline")})}};typeof document<"u"&&re();var Ve={fetch:re};(function(n){n.exports=Ve})(Ke);const Xe=Ye(K);/*! medium-zoom 1.0.8 | MIT License | https://github.com/francoischalifour/medium-zoom */var E=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var d in o)Object.prototype.hasOwnProperty.call(o,d)&&(n[d]=o[d])}return n},k=function(e){return e.tagName==="IMG"},Ge=function(e){return NodeList.prototype.isPrototypeOf(e)},M=function(e){return e&&e.nodeType===1},U=function(e){var o=e.currentSrc||e.src;return o.substr(-4).toLowerCase()===".svg"},ee=function(e){try{return Array.isArray(e)?e.filter(k):Ge(e)?[].slice.call(e).filter(k):M(e)?[e].filter(k):typeof e=="string"?[].slice.call(document.querySelectorAll(e)).filter(k):[]}catch{throw new TypeError(`The provided selector is invalid.
Expects a CSS selector, a Node element, a NodeList or an array.
See: https://github.com/francoischalifour/medium-zoom`)}},Je=function(e){var o=document.createElement("div");return o.classList.add("medium-zoom-overlay"),o.style.background=e,o},Qe=function(e){var o=e.getBoundingClientRect(),d=o.top,p=o.left,R=o.width,B=o.height,h=e.cloneNode(),D=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,x=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0;return h.removeAttribute("id"),h.style.position="absolute",h.style.top=d+D+"px",h.style.left=p+x+"px",h.style.width=R+"px",h.style.height=B+"px",h.style.transform="",h},H=function(e,o){var d=E({bubbles:!1,cancelable:!1,detail:void 0},o);if(typeof window.CustomEvent=="function")return new CustomEvent(e,d);var p=document.createEvent("CustomEvent");return p.initCustomEvent(e,d.bubbles,d.cancelable,d.detail),p},Ue=function n(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},d=window.Promise||function(a){function r(){}a(r,r)},p=function(a){var r=a.target;if(r===I){z();return}v.indexOf(r)!==-1&&X({target:r})},R=function(){if(!(w||!t.original)){var a=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;Math.abs(G-a)>s.scrollOffset&&setTimeout(z,150)}},B=function(a){var r=a.key||a.keyCode;(r==="Escape"||r==="Esc"||r===27)&&z()},h=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=a;if(a.background&&(I.style.background=a.background),a.container&&a.container instanceof Object&&(r.container=E({},s.container,a.container)),a.template){var m=M(a.template)?a.template:document.querySelector(a.template);r.template=m}return s=E({},s,r),v.forEach(function(c){c.dispatchEvent(H("medium-zoom:update",{detail:{zoom:u}}))}),u},D=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return n(E({},s,a))},x=function(){for(var a=arguments.length,r=Array(a),m=0;m<a;m++)r[m]=arguments[m];var c=r.reduce(function(i,f){return[].concat(i,ee(f))},[]);return c.filter(function(i){return v.indexOf(i)===-1}).forEach(function(i){v.push(i),i.classList.add("medium-zoom-image")}),T.forEach(function(i){var f=i.type,g=i.listener,C=i.options;c.forEach(function(b){b.addEventListener(f,g,C)})}),u},de=function(){for(var a=arguments.length,r=Array(a),m=0;m<a;m++)r[m]=arguments[m];t.zoomed&&z();var c=r.length>0?r.reduce(function(i,f){return[].concat(i,ee(f))},[]):v;return c.forEach(function(i){i.classList.remove("medium-zoom-image"),i.dispatchEvent(H("medium-zoom:detach",{detail:{zoom:u}}))}),v=v.filter(function(i){return c.indexOf(i)===-1}),u},se=function(a,r){var m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return v.forEach(function(c){c.addEventListener("medium-zoom:"+a,r,m)}),T.push({type:"medium-zoom:"+a,listener:r,options:m}),u},me=function(a,r){var m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return v.forEach(function(c){c.removeEventListener("medium-zoom:"+a,r,m)}),T=T.filter(function(c){return!(c.type==="medium-zoom:"+a&&c.listener.toString()===r.toString())}),u},V=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=a.target,m=function(){var i={width:document.documentElement.clientWidth,height:document.documentElement.clientHeight,left:0,top:0,right:0,bottom:0},f=void 0,g=void 0;if(s.container)if(s.container instanceof Object)i=E({},i,s.container),f=i.width-i.left-i.right-s.margin*2,g=i.height-i.top-i.bottom-s.margin*2;else{var C=M(s.container)?s.container:document.querySelector(s.container),b=C.getBoundingClientRect(),$=b.width,fe=b.height,pe=b.left,ve=b.top;i=E({},i,{width:$,height:fe,left:pe,top:ve})}f=f||i.width-s.margin*2,g=g||i.height-s.margin*2;var O=t.zoomedHd||t.original,ge=U(O)?f:O.naturalWidth||f,he=U(O)?g:O.naturalHeight||g,P=O.getBoundingClientRect(),ze=P.top,ye=P.left,F=P.width,q=P.height,be=Math.min(Math.max(F,ge),f)/F,Ee=Math.min(Math.max(q,he),g)/q,Z=Math.min(be,Ee),we=(-ye+(f-F)/2+s.margin+i.left)/Z,Ce=(-ze+(g-q)/2+s.margin+i.top)/Z,J="scale("+Z+") translate3d("+we+"px, "+Ce+"px, 0)";t.zoomed.style.transform=J,t.zoomedHd&&(t.zoomedHd.style.transform=J)};return new d(function(c){if(r&&v.indexOf(r)===-1){c(u);return}var i=function $(){w=!1,t.zoomed.removeEventListener("transitionend",$),t.original.dispatchEvent(H("medium-zoom:opened",{detail:{zoom:u}})),c(u)};if(t.zoomed){c(u);return}if(r)t.original=r;else if(v.length>0){var f=v;t.original=f[0]}else{c(u);return}if(t.original.dispatchEvent(H("medium-zoom:open",{detail:{zoom:u}})),G=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,w=!0,t.zoomed=Qe(t.original),document.body.appendChild(I),s.template){var g=M(s.template)?s.template:document.querySelector(s.template);t.template=document.createElement("div"),t.template.appendChild(g.content.cloneNode(!0)),document.body.appendChild(t.template)}if(t.original.parentElement&&t.original.parentElement.tagName==="PICTURE"&&t.original.currentSrc&&(t.zoomed.src=t.original.currentSrc),document.body.appendChild(t.zoomed),window.requestAnimationFrame(function(){document.body.classList.add("medium-zoom--opened")}),t.original.classList.add("medium-zoom-image--hidden"),t.zoomed.classList.add("medium-zoom-image--opened"),t.zoomed.addEventListener("click",z),t.zoomed.addEventListener("transitionend",i),t.original.getAttribute("data-zoom-src")){t.zoomedHd=t.zoomed.cloneNode(),t.zoomedHd.removeAttribute("srcset"),t.zoomedHd.removeAttribute("sizes"),t.zoomedHd.removeAttribute("loading"),t.zoomedHd.src=t.zoomed.getAttribute("data-zoom-src"),t.zoomedHd.onerror=function(){clearInterval(C),console.warn("Unable to reach the zoom image target "+t.zoomedHd.src),t.zoomedHd=null,m()};var C=setInterval(function(){t.zoomedHd.complete&&(clearInterval(C),t.zoomedHd.classList.add("medium-zoom-image--opened"),t.zoomedHd.addEventListener("click",z),document.body.appendChild(t.zoomedHd),m())},10)}else if(t.original.hasAttribute("srcset")){t.zoomedHd=t.zoomed.cloneNode(),t.zoomedHd.removeAttribute("sizes"),t.zoomedHd.removeAttribute("loading");var b=t.zoomedHd.addEventListener("load",function(){t.zoomedHd.removeEventListener("load",b),t.zoomedHd.classList.add("medium-zoom-image--opened"),t.zoomedHd.addEventListener("click",z),document.body.appendChild(t.zoomedHd),m()})}else m()})},z=function(){return new d(function(a){if(w||!t.original){a(u);return}var r=function m(){t.original.classList.remove("medium-zoom-image--hidden"),document.body.removeChild(t.zoomed),t.zoomedHd&&document.body.removeChild(t.zoomedHd),document.body.removeChild(I),t.zoomed.classList.remove("medium-zoom-image--opened"),t.template&&document.body.removeChild(t.template),w=!1,t.zoomed.removeEventListener("transitionend",m),t.original.dispatchEvent(H("medium-zoom:closed",{detail:{zoom:u}})),t.original=null,t.zoomed=null,t.zoomedHd=null,t.template=null,a(u)};w=!0,document.body.classList.remove("medium-zoom--opened"),t.zoomed.style.transform="",t.zoomedHd&&(t.zoomedHd.style.transform=""),t.template&&(t.template.style.transition="opacity 150ms",t.template.style.opacity=0),t.original.dispatchEvent(H("medium-zoom:close",{detail:{zoom:u}})),t.zoomed.addEventListener("transitionend",r)})},X=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=a.target;return t.original?z():V({target:r})},ce=function(){return s},ue=function(){return v},le=function(){return t.original},v=[],T=[],w=!1,G=0,s=o,t={original:null,zoomed:null,zoomedHd:null,template:null};Object.prototype.toString.call(e)==="[object Object]"?s=e:(e||typeof e=="string")&&x(e),s=E({margin:0,background:"#fff",scrollOffset:40,container:null,template:null},s);var I=Je(s.background);document.addEventListener("click",p),document.addEventListener("keyup",B),document.addEventListener("scroll",R),window.addEventListener("resize",z);var u={open:V,close:z,toggle:X,update:h,clone:D,attach:x,detach:de,on:se,off:me,getOptions:ce,getImages:ue,getZoomedImage:le};return u};function et(n,e){e===void 0&&(e={});var o=e.insertAt;if(!(!n||typeof document>"u")){var d=document.head||document.getElementsByTagName("head")[0],p=document.createElement("style");p.type="text/css",o==="top"&&d.firstChild?d.insertBefore(p,d.firstChild):d.appendChild(p),p.styleSheet?p.styleSheet.cssText=n:p.appendChild(document.createTextNode(n))}}var tt=".medium-zoom-overlay{position:fixed;top:0;right:0;bottom:0;left:0;opacity:0;transition:opacity .3s;will-change:opacity}.medium-zoom--opened .medium-zoom-overlay{cursor:pointer;cursor:zoom-out;opacity:1}.medium-zoom-image{cursor:pointer;cursor:zoom-in;transition:transform .3s cubic-bezier(.2,0,.2,1)!important}.medium-zoom-image--hidden{visibility:hidden}.medium-zoom-image--opened{position:relative;cursor:pointer;cursor:zoom-out;will-change:transform}";et(tt);const nt=Ue,Y="365977a2ad9de4a82185cc124d31da1c";function ot(n){var o;if(!S||document.querySelector(`#analytics-plugin-${n}`))return;window._hmt=window._hmt?window._hmt:[];const e=document.createElement("script");e.id=`analytics-${n}`,e.async=!0,e.src=`https://hm.baidu.com/hm.js?${n}`,(o=document.querySelector("head"))==null||o.appendChild(e)}function te(n,e){if(S){if((!e||typeof e!="string")&&(e="/"),e.startsWith("http")){const o=e.split("/"),d=`${o[0]}//${o[2]}`;e=e.replace(d,"")}window._hmt.push(["_setAccount",n]),window._hmt.push(["_trackPageview",e])}}const at={...We,enhanceApp({router:n}){S&&(ot(Y),window.addEventListener("hashchange",()=>{const{href:e}=window.location;te(Y,e)}),n.onAfterRouteChanged=e=>{te(Y,e),Xe.fetch()})},setup(){const n=Le(),e=()=>{nt(".main img:not(.author-avatar)",{background:"var(--vp-c-bg)"})};ne(()=>{e()}),He(()=>n.path,()=>Ae(()=>e()))}};function ie(n){if(n.extends){const e=ie(n.extends);return{...e,...n,enhanceApp(o){e.enhanceApp&&e.enhanceApp(o),n.enhanceApp&&n.enhanceApp(o)}}}return n}const _=ie(at),rt=_e({name:"VitePressApp",setup(){const{site:n}=Oe();return ne(()=>{xe(()=>{document.documentElement.lang=n.value.lang,document.documentElement.dir=n.value.dir})}),Te(),Ie(),Pe(),_.setup&&_.setup(),()=>je(_.Layout)}});async function it(){const n=st(),e=dt();e.provide(Ne,n);const o=ke(n.route);return e.provide(Me,o),e.component("Content",Re),e.component("ClientOnly",Be),Object.defineProperties(e.config.globalProperties,{$frontmatter:{get(){return o.frontmatter.value}},$params:{get(){return o.page.value.params}}}),_.enhanceApp&&await _.enhanceApp({app:e,router:n,siteData:De}),{app:e,router:n,data:o}}function dt(){return $e(rt)}function st(){let n=S,e;return Fe(o=>{let d=qe(o);return n&&(e=d),(n||e===d)&&(d=d.replace(/\.js$/,".lean.js")),S&&(n=!1),Ze(()=>import(d),[])},_.NotFound)}S&&it().then(({app:n,router:e,data:o})=>{e.go().then(()=>{Se(e.route,o.site),n.mount("#app")})});export{it as createApp};
